(function(e){function n(n){for(var r,i,c=n[0],d=n[1],u=n[2],s=0,f=[];s<c.length;s++)i=c[s],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);l&&l(n);while(f.length)f.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,c=1;c<t.length;c++){var d=t[c];0!==o[d]&&(r=!1)}r&&(a.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},o={app:0},a=[];function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=n,c=c.slice();for(var u=0;u<c.length;u++)n(c[u]);var l=d;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("7a23"),o=t("cf05"),a=t.n(o),i=Object(r["d"])("img",{alt:"Vue logo",src:a.a},null,-1);function c(e,n,t,o,a,c){var d=Object(r["h"])("HelloWorld");return Object(r["e"])(),Object(r["c"])(r["a"],null,[i,Object(r["d"])(d,{msg:"Welcome to Your Vue.js App"})],64)}var d=Object(r["i"])("data-v-809cc72a");Object(r["g"])("data-v-809cc72a");var u={id:"container"},l=Object(r["d"])("div",{id:"wrapper"},[Object(r["d"])("div",{id:"join",class:"animate join"},[Object(r["d"])("h1",null,"Join a Room"),Object(r["d"])("form",{onsubmit:"register(); return false;","accept-charset":"UTF-8"},[Object(r["d"])("p",null,[Object(r["d"])("input",{type:"text",name:"name",value:"",id:"name",placeholder:"Username",required:""})]),Object(r["d"])("p",null,[Object(r["d"])("input",{type:"text",name:"room",value:"",id:"roomName",placeholder:"Room",required:""})]),Object(r["d"])("p",{class:"submit"},[Object(r["d"])("input",{type:"submit",name:"commit",value:"Join!"})])])]),Object(r["d"])("div",{id:"room",style:{display:"none"}},[Object(r["d"])("h2",{id:"room-header"}),Object(r["d"])("div",{id:"participants"}),Object(r["d"])("input",{type:"button",id:"button-leave",onmouseup:"leaveRoom();",value:"Leave room"})])],-1);Object(r["f"])();var s=d((function(e,n,t,o,a,i){return Object(r["e"])(),Object(r["c"])("div",u,[l])})),f=(t("b0c0"),t("159b"),t("6293"),t("d519")),p=t.n(f);t("fb6a");var b,m=new WebSocket("wss://13.125.117.139:8443/groupcall"),v={};function O(e){h(e.name)}function g(e){v[e.name].rtcPeer.processAnswer(e.sdpAnswer,(function(e){if(e)return console.error(e)}))}function j(e){var n={audio:!0,video:{mandatory:{maxWidth:320,maxFrameRate:15,minFrameRate:15}}};console.log(b+" registered in room "+this.room);var t=new(void 0)(b);v[b]=t;var r=t.getVideoElement(),o={localVideo:r,mediaConstraints:n,onicecandidate:t.onIceCandidate.bind(t)};t.rtcPeer=new p.a.WebRtcPeer.WebRtcPeerSendonly(o,(function(e){if(e)return console.error(e);this.generateOffer(t.offerToReceiveVideo.bind(t))})),e.data.forEach(h)}function h(e){var n=new(void 0)(e);v[e]=n;var t=n.getVideoElement(),r={remoteVideo:t,onicecandidate:n.onIceCandidate.bind(n)};n.rtcPeer=new p.a.WebRtcPeer.WebRtcPeerRecvonly(r,(function(e){if(e)return console.error(e);this.generateOffer(n.offerToReceiveVideo.bind(n))}))}function y(e){console.log("Participant "+e.name+" left");var n=v[e.name];n.dispose(),delete v[e.name]}window.onbeforeunload=function(){m.close()},m.onmessage=function(e){var n=JSON.parse(e.data);switch(console.info("Received message: "+e.data),n.id){case"existingParticipants":j(n);break;case"newParticipantArrived":O(n);break;case"participantLeft":y(n);break;case"receiveVideoAnswer":g(n);break;case"iceCandidate":v[n.name].rtcPeer.addIceCandidate(n.candidate,(function(e){e&&console.error("Error adding candidate: "+e)}));break;default:console.error("Unrecognized message",n)}};var w={name:"HelloWorld",props:{msg:String},methods:{register:function(){(void 0).register()},leaveRoom:function(){(void 0).leaveRoom()}}};t("9359");w.render=s,w.__scopeId="data-v-809cc72a";var P=w,R={name:"App",components:{HelloWorld:P}};t("f248");R.render=c;var x=R;Object(r["b"])(x).mount("#app")},"7fb8":function(e,n,t){},9359:function(e,n,t){"use strict";t("bc5e")},bc5e:function(e,n,t){},cf05:function(e,n,t){e.exports=t.p+"img/logo.82b9c7a5.png"},f248:function(e,n,t){"use strict";t("7fb8")}});
//# sourceMappingURL=app.6b76f5c3.js.map